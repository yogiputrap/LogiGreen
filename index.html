<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LogiGreen | Decarbonization KPI Cockpit</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha512-sA+e2atMcPCN5EwTx6KDAdAm8ZI1sC3yRyvCb4s46HoPazTA/gkGEXUXRdLLfiXyRv5ZkR2K7xU5hWk1N7fL1A==" crossorigin="" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha512-o3pfyzp3kQn2yZiN5qd1iP4efAaPDXmgZxzi1TL0KWs/oUNsGrD/qjUKPTN3lGnXvr6QdN7USh6Z8qcG3oho0g==" crossorigin=""></script>
  <script defer src="app.js"></script>
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar glass-panel">
      <div class="sidebar__brand">
        <div class="brand-mark">
          <span class="brand-spark"></span>
        </div>
        <div class="brand-copy">
          <h1>LogiGreen</h1>
          <p>Decarbonization KPI Cockpit</p>
        </div>
      </div>
      <nav class="sidebar__nav">
        <button class="nav-link active" data-target="cockpit-view">Cockpit</button>
        <button class="nav-link" data-target="reporting-view">Reporting</button>
        <button class="nav-link" data-target="integrations-view">Data Integrations</button>
        <button class="nav-link" data-target="notifications-view">Notifications</button>
      </nav>
      <div class="sidebar__divider"></div>
      <div class="sidebar__layers">
        <h3>Business Layers</h3>
        <ul>
          <li>
            <span>Eksekutif</span>
            <span class="status-dot status-ok"></span>
          </li>
          <li>
            <span>ESG &amp; Carbon Accounting</span>
            <span class="status-dot status-warning"></span>
          </li>
          <li>
            <span>Operasional Fleet &amp; Building</span>
            <span class="status-dot status-critical"></span>
          </li>
        </ul>
      </div>
      <div class="sidebar__footer">
        <div class="update-chip glass-panel">
          <p>Data Terakhir Diperbarui</p>
          <time id="last-updated">23 November 2025, 10.00 WIB</time>
          <span class="update-source">Carbon Data Integrations Platform (CDIP)<br />Energy &amp; Fuel Consumptions Data</span>
        </div>
        <div class="forecast-chip glass-panel">
          <h4>2030 Forecast</h4>
          <p>Pengurangan rata-rata: <span id="forecastDrop">0 mtCO<sub>2</sub>e/tahun</span></p>
        </div>
      </div>
    </aside>
    <main class="main-content">
      <header class="main-header glass-panel">
        <div>
          <p class="eyebrow">Menuju Net Zero Emissions GHG 2025</p>
          <h2>Decarbonization Performance Cockpit</h2>
          <p class="subtitle">Pantau KPI lintas eksekutif, ESG, dan operasional dalam satu dashboard intuitif.</p>
        </div>
        <div class="header-status">
          <div class="badge badge--ok">Intensitas Emisi Stabil</div>
          <div class="badge badge--warning" id="headerRiskBadge">Area Risiko Tinggi</div>
        </div>
      </header>

      <section id="cockpit-view" class="view active">
        <div class="grid grid--kpi">
          <article class="card glass-panel kpi-card">
            <div class="card__header">
              <h3>Total Emisi tCO<sub>2</sub>e Saat Ini</h3>
              <span class="status-pill" id="currentEmissionBadge">Critical</span>
            </div>
            <div class="kpi-value">
              <span id="currentEmissionValue">0</span>
              <small>mtCO<sub>2</sub>e</small>
            </div>
            <p class="muted">Target 2030: <strong id="target2030Value">29 mtCO<sub>2</sub>e</strong></p>
            <div class="kpi-meta">
              <div>
                <p class="muted">Delta vs Target</p>
                <p id="deltaToTarget">0 mtCO<sub>2</sub>e</p>
              </div>
              <div>
                <p class="muted">Status</p>
                <p id="targetStatus">-</p>
              </div>
            </div>
          </article>

          <article class="card glass-panel kpi-card">
            <div class="card__header">
              <h3>Realized Decarbonization Effect (KPI)</h3>
              <span class="status-pill" id="realizedStatus">OK</span>
            </div>
            <div class="kpi-value">
              <span id="realizedEffectValue">0%</span>
              <small>vs Baseline 2018</small>
            </div>
            <p class="muted">Pengurangan kumulatif: <strong id="realizedReduction">0 mtCO<sub>2</sub>e</strong></p>
            <div class="pill-group">
              <span class="pill" id="fleetImpactBadge">Fleet Electrification</span>
              <span class="pill" id="fuelImpactBadge">Sustainable Fuel Procurement</span>
              <span class="pill" id="buildingImpactBadge">Building &amp; Energy Efficiency</span>
            </div>
          </article>

          <article class="card glass-panel kpi-card">
            <div class="card__header">
              <h3>Status Target Net Zero 2025</h3>
              <span class="status-pill" id="target2025Badge">Warning</span>
            </div>
            <div class="kpi-value">
              <span id="roadTo2025">0%</span>
              <small>progress</small>
            </div>
            <p class="muted">Pengurangan tambahan dibutuhkan: <strong id="additionalReduction">0 mtCO<sub>2</sub>e</strong></p>
            <div class="progress-bar">
              <span id="progress2025Fill"></span>
            </div>
            <p class="muted tiny-text">Mitigasi cepat: transisi energi terbarukan, elektrifikasi aset, offset berkualitas tinggi.</p>
          </article>

          <article class="card glass-panel kpi-card">
            <div class="card__header">
              <h3>Pipeline Inisiatif Dekarbonisasi</h3>
              <span class="status-pill status-ok">On Track</span>
            </div>
            <ul class="initiative-list" id="initiativeList"></ul>
          </article>
        </div>

        <div class="grid grid--charts">
          <article class="card glass-panel wide">
            <div class="card__header">
              <h3>Trend Emisi &amp; Realized Decarbonization Effect</h3>
              <div class="legend">
                <span class="legend-item"><span class="legend-dot legend-dot--emission"></span> Emisi Aktual</span>
                <span class="legend-item"><span class="legend-dot legend-dot--effect"></span> Realized Effect</span>
                <span class="legend-item"><span class="legend-dot legend-dot--target"></span> Target 2030</span>
              </div>
            </div>
            <canvas id="emissionTrendChart"></canvas>
          </article>

          <article class="card glass-panel medium">
            <div class="card__header">
              <h3>Capai Target 2030</h3>
            </div>
            <div class="gauge-wrapper">
              <canvas id="kpiGaugeChart"></canvas>
              <div class="gauge-center">
                <h4 id="gaugeValueLabel">0%</h4>
                <p>Terhadap Target</p>
              </div>
            </div>
            <div class="gauge-meta">
              <div>
                <p class="muted">Emisi Saat Ini</p>
                <p id="gaugeEmissionLabel">0 mtCO<sub>2</sub>e</p>
              </div>
              <div>
                <p class="muted">Target 2030</p>
                <p>29 mtCO<sub>2</sub>e</p>
              </div>
              <div>
                <p class="muted">Sisa Reduksi</p>
                <p id="gaugeResidue">0 mtCO<sub>2</sub>e</p>
              </div>
            </div>
          </article>

          <article class="card glass-panel medium">
            <div class="card__header">
              <h3>Status Kritis Bisnis</h3>
            </div>
            <div class="status-board">
              <div class="status-row">
                <span>Eksekutif/Manajemen Senior</span>
                <span class="status-pill" id="execStatus">OK</span>
              </div>
              <div class="status-row">
                <span>ESG &amp; Carbon Accounting</span>
                <span class="status-pill" id="esgStatus">Warning</span>
              </div>
              <div class="status-row">
                <span>Operasional (Fleet/Building)</span>
                <span class="status-pill" id="opsStatus">Critical</span>
              </div>
            </div>
            <div class="tiny-grid">
              <div>
                <p class="muted tiny-text">Alert Waktu Nyata</p>
                <p class="highlight" id="realTimeAlert">-</p>
              </div>
              <div>
                <p class="muted tiny-text">Aset Risiko Tertinggi</p>
                <p class="highlight" id="topRiskAsset">-</p>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section id="reporting-view" class="view">
        <article class="card glass-panel">
          <div class="card__header">
            <h3>Carbon Accounting &amp; Reporting</h3>
            <div class="chip chip--info" id="recordCountChip">0 data dummy</div>
          </div>
          <p class="subtitle small">Filter emisi berdasarkan Decarbonization Layers (Building, Energy, Fleet) serta Customer &amp; Product Data Carbon.</p>
          <div class="filters">
            <button class="filter-chip active" data-layer="all">Semua</button>
            <button class="filter-chip" data-layer="Building">Building</button>
            <button class="filter-chip" data-layer="Energy">Energy</button>
            <button class="filter-chip" data-layer="Fleet">Fleet</button>
            <button class="filter-chip" data-layer="Customer">Customer</button>
            <button class="filter-chip" data-layer="Product">Product</button>
          </div>
          <div class="table-wrapper">
            <table id="carbon-table">
              <thead>
                <tr>
                  <th>Layer</th>
                  <th>Sumber/Aset</th>
                  <th>Scope</th>
                  <th>Lokasi</th>
                  <th>Emisi (mtCO<sub>2</sub>e)</th>
                  <th>Target</th>
                  <th>Variance</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <div class="table-meta" id="tableMeta"></div>
        </article>

        <div class="grid grid--reporting">
          <article class="card glass-panel">
            <div class="card__header">
              <h3>Breakdown by Scope</h3>
            </div>
            <canvas id="scopeBreakdownChart"></canvas>
          </article>

          <article class="card glass-panel">
            <div class="card__header">
              <h3>Fleet Electrification Management</h3>
              <span class="status-pill" id="fleetStatus">Warning</span>
            </div>
            <div class="metric-block">
              <div>
                <h4 id="evAdoption">0%</h4>
                <p class="muted">Rasio Adopsi Kendaraan Listrik</p>
              </div>
              <div>
                <h4 id="sustainableFuelImpact">0 mtCO<sub>2</sub>e</h4>
                <p class="muted">Dampak Pengurangan Emisi</p>
              </div>
            </div>
            <div class="progress-stack">
              <div>
                <p class="tiny-text">Adopsi EV vs Target 2025</p>
                <div class="progress-bar slim">
                  <span id="evProgressFill"></span>
                </div>
                <p class="muted tiny-text">Target: <span id="evTargetLabel">0%</span></p>
              </div>
              <div>
                <p class="tiny-text">Campuran Sustainable Fuel</p>
                <div class="progress-bar slim">
                  <span id="fuelProgressFill"></span>
                </div>
                <p class="muted tiny-text">Campuran aktual: <span id="fuelBlendLabel">0%</span></p>
              </div>
            </div>
            <ul class="metric-list" id="fleetMetricList"></ul>
          </article>

          <article class="card glass-panel map-card">
            <div class="card__header">
              <h3>Peta Lokasi &amp; Aset</h3>
              <span class="status-pill status-ok">Live</span>
            </div>
            <div id="asset-map"></div>
          </article>
        </div>
      </section>

      <section id="integrations-view" class="view">
        <div class="grid grid--integrations">
          <article class="card glass-panel integration-card">
            <div class="card__header">
              <h3>Carbon Data Integrations Platform (CDIP)</h3>
              <span class="status-pill status-ok">Healthy</span>
            </div>
            <p class="muted">Pipeline real-time untuk emisi operasional, sensor energi, dan aktivitas offset.</p>
            <ul class="timeline" id="cdipTimeline"></ul>
          </article>
          <article class="card glass-panel integration-card">
            <div class="card__header">
              <h3>Energy &amp; Fuel Consumption Data</h3>
              <span class="status-pill status-warning" id="fuelIntegrationStatus">Warning</span>
            </div>
            <p class="muted">Integrasi dengan utilitas energi, IoT fuel meter, dan telematics fleet.</p>
            <ul class="timeline" id="energyTimeline"></ul>
          </article>
          <article class="card glass-panel integration-card">
            <div class="card__header">
              <h3>Customer &amp; Product Carbon Data</h3>
              <span class="status-pill status-ok">On Track</span>
            </div>
              <p class="muted">Inventaris karbon per pelanggan &amp; produk untuk pelaporan ESG &amp; disclosure.</p>
            <ul class="timeline" id="customerTimeline"></ul>
          </article>
        </div>
        <article class="card glass-panel wide">
          <div class="card__header">
            <h3>Integrasi Data Real-time</h3>
            <span class="badge badge--info" id="integrationSummary">-</span>
          </div>
          <div class="integration-grid" id="integrationGrid"></div>
        </article>
      </section>

      <section id="notifications-view" class="view">
        <article class="card glass-panel wide">
          <div class="card__header">
            <h3>Peringatan &amp; Notifikasi</h3>
            <div class="badge badge--critical" id="notificationCount">0 Alerts</div>
          </div>
          <p class="muted">Notifikasi otomatis akan muncul saat jejak karbon menyentuh atau melampaui batas atas.</p>
          <ul class="notification-list" id="notificationFeed"></ul>
        </article>
      </section>
    </main>
  </div>
</body>
</html>
